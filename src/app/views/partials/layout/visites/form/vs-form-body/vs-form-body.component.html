<ng-container [formGroup]="visiteForm">
	<div class="row" [hidden]="origin == 'add' && partHided(i)" *ngFor="let catQuestion of catQuestionsList; let i = index">
		<div class="col-12">
			<div class="tf-heading tf-heading--md">| {{i+1}} {{catQuestion.libelle}}</div>
			<div class="row">
				<div class="col-12">
					<div class="row">
						<div class="col-5">Question</div>
						<div class="col-3 text-center">Note</div>
						<div class="col-3">Commentaire</div>
						<div class="col-1">Date de mise en conformit√©</div>
					</div>
					<div class="row" *ngFor="let question of catQuestion.questions; let j = index ">
						<ng-container [formGroup]="getPivot(question.id)">
							<div class="col-5">
								<span class="p2-pl-12">
									{{(i+1) +'.'+(j+1)}} - {{question.libelle}}
								</span>
							</div>
							<div class="col-2 d-inline-flex" style="justify-content: space-around;">
								<mat-checkbox (change)="setNote(question.id, 1)" [checked]="hasNote(question.id, 1)" >OK</mat-checkbox>
								<mat-checkbox (change)="setNote(question.id, 2)" [checked]="hasNote(question.id, 2)" >KO</mat-checkbox>
								<mat-checkbox (change)="setNote(question.id, 3)" [checked]="hasNote(question.id, 3)" >SO</mat-checkbox>
							</div>
							<div class="col-3">
								<textarea class="form-control" rows="2" formControlName="commentaires"></textarea>
							</div>
							<div class="col-2">
								<div class="dropdown">
									<input matInput class="form-control" mask="d0/M0/0000" [specialCharacters]="[ '/' ]" [dropSpecialCharacters]="false" placeholder="DD/MM/YYYY" formControlName="date_remise_conf">
								</div>
							</div>
						</ng-container>
					</div>
				</div>
			</div>
		</div>
		<div class="col-12 mb-4">
			<button mat-raised-button type="button" class="pull-right btn-small" color="info" *ngIf="partHided('i') && origin=='add'" (click)="showPart('i')">Suite</button>
		</div>
	</div>
</ng-container>
