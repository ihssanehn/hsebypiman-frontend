
<form [formGroup]="visiteForm" class="tf-form tf-form--group-seperator-dashed" *ngIf="visite">
	<tf-portlet class="main-portlet-form" id="portlet-vs">
		<div class="tf-portlet-header">
			<span class="title">
				<a [routerLink]="['/visites-securite/revues/list']">{{'MENU.SUB_VISITESECURITE.LIST' | translate}}</a>
				<span class="divider">></span>
			  <span class="id-item">{{'MENU.SUB_VISITESECURITE.DETAIL' | translate}}</span>
			</span>
			<span class="pull-right">
				<button mat-button class="mr-4" color="info" matTooltip="{{'ACTION.DUPLICATE' | translate}}" (click)="duplicateVs(visite.id)" *ngxPermissionsOnly="['visite_securite_canAdd']">
					<mat-icon>filter_none</mat-icon>
					{{'ACTION.DUPLICATE' | translate}}
				</button>
			</span>
		</div>
		<tf-vs-form-head [visiteForm]="visiteForm" [data]="visite" [origin]="'detail'" [model]="'VsRevue'" *ngIf="visiteForm.get('salarie_id').value"></tf-vs-form-head>
	</tf-portlet>
	
	<tf-vs-form-body [visiteForm]="visiteForm" [catQuestionsList]="catQuestionsList" [model]="'VsRevue'" (dateUpdated)="onSubmit()" [origin]="'detail'" [isDisableToggle]="isDisableToggle" ></tf-vs-form-body>

	<tf-vs-form-signatures [visiteForm]="visiteForm" [origin]="'detail'" (hseSigned)="onSubmit()" [canValidateHse]="canValidateHse" [isDisableToggle]="true" *ngIf="showSignatures"></tf-vs-form-signatures>

</form>