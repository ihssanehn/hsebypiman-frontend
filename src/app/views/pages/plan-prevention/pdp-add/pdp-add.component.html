<form [formGroup]="pdpForm" class="tf-form tf-form--group-seperator-dashed" *ngIf="this?.typePdp">

	<tf-portlet class="mr-4 main-portlet-form" id="portlet-ar">
		<div class="tf-portlet-header ">
			<span class="title">
			  <a [routerLink]="['/plan-de-prevention/list']">{{'MENU.SUB_PDP.LIST' | translate}}</a>
			  <span class="divider">></span>
			  <span class="id-item">{{'MENU.SUB_PDP.ADD' | translate}}</span>
			</span>
		</div>
				<ul nz-menu nzMode="horizontal" class="mt-3 mb-5 text-center" *ngIf="adding">
					<li class="font-weight-bold textXl " nz-submenu nzTitle="{{'PDP.PIMAN' | translate}}"  >
						<ul>
						  <li nz-menu-group nzTitle="Type" >
							<ul>
							  <li class="font-weight-bold" nz-menu-item   (click)="selectPdp('PDP_PIMAN_BUREAU')">Bureau</li>
							  <li class="font-weight-bold" nz-menu-item nzSelected (click)="selectPdp('PDP_PIMAN_TERRAIN')" >Terrain</li>
							</ul>
						  </li>

						</ul>
					  </li>
					<li class=" font-weight-bold textXl" nz-menu-item (click)="selectPdp('PDP_CLIENT')" >
						{{'PDP.CLIENT' | translate}}
					</li>
				  </ul>
		<!-- PDP_PIMAN_TERRAIN -->
		<tf-pdp-add-form *ngIf="typePdp == 'PDP_PIMAN_TERRAIN'"  class="pl-4 pr-4" (onLastStep)="isLastStep($event)" [formStatus]="formStatus"
						 [adding]="adding"
						 [pdpForm]="pdpForm" [_pdp]="pdp" [pdpType]="'PDP_PIMAN_TERRAIN'"></tf-pdp-add-form>


		<!-- PDP_PIMAN_BUREAU -->
		<tf-pdp-add-form *ngIf="typePdp == 'PDP_PIMAN_BUREAU'"  class="pl-4 pr-4" (onLastStep)="isLastStep($event)" [formStatus]="formStatus"
						 [adding]="adding"
						 [pdpForm]="pdpForm" [_pdp]="pdp" [pdpType]="'PDP_PIMAN_BUREAU'"></tf-pdp-add-form>
		<!-- PDP_CLIENT -->

		<tf-pdp-add-client *ngIf="typePdp=='PDP_CLIENT'" class="pl-4 pr-4" (onLastStep)="isLastStep($event)" [formStatus]="formStatus"
		[adding]="adding"
		[pdpForm]="pdpClientForm" [_pdp]="pdp" [uploader]="uploader" ></tf-pdp-add-client>

		</tf-portlet>


	<!--	|| pdpForm.invalid-->
	<!--	pdpForm.valid &&-->
	<button mat-raised-button *ngIf="enableBtn"
			[ngClass]="{'tf-btn-loading tf-spinner tf-spinner--sm tf-spinner--right tf-spinner--md tf-spinner--light': formloading}"
			[disabled]="formloading" class="float-right mr-4 btn btn-save" (click)="onSubmit()">
		{{'ACTION.SAVE' | translate}}
	</button>

</form>
