<ng-container [formGroup]="pdpForm">
	<div class="m-0 mt-3 tf-heading tf-heading--lg">
		{{'PDP.CLIENT_DESC' | translate}}
	</div>
	<div class="row" [hidden]="adding && partHided(1)">
		<div class="col-12">
			<div class="tf-heading tf-heading--xs">
				{{'PDP.BEFORE_STEP_1_DESC' | translate}}
			</div>
			<div class="tf-heading tf-heading--md">|
				1 {{'PDP.EMERGENCY_CONTACTS_AND_NUMBERS_IN_THE_EVENT_OF_AN_ACCIDENT' | translate}}</div>
			<div class="row">
				<div class="col-md-12">
					<div class="tf-card-form">
						<div class="tf-heading tf-heading--sm">
							1.1 {{'PDP.USER_COMPANY' | translate}}
						</div>
						<div class="pl-5 mb-4 row" style="border-bottom: 1px solid #e9ecf0;">
							<div class="row form-row col-6 align-items-center">
								<span class="col-12 font-weight-bold">
									{{'PDP.COMPANY' | translate}} :
								</span>
								<mat-form-field class="col-4">
									<mat-label>{{'PDP.NAME' | translate}}</mat-label>
									<input class="form-control" matInput type="text" name="raison_sociale_eu"
										   formControlName="raison_sociale_eu"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('raison_sociale_eu')"/>
									<mat-error *ngIf="isControlHasError('raison_sociale_eu','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.TEL' | translate}}
									</mat-label>
									<input class="form-control" matInput type="phone" name="raison_sociale_tel_eu"
										   formControlName="raison_sociale_tel_eu"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('raison_sociale_tel_eu')"/>
									<mat-error *ngIf="isControlHasError('raison_sociale_tel_eu','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
							<div class="row form-row col-6 align-items-center">
								<span class="col-12 font-weight-bold">
									{{'PDP.RESPONSABLE_HSE' | translate}} :
								</span>
								<mat-form-field class="col-4">
									<mat-label>{{'PDP.NAME' | translate}}</mat-label>
									<input class="form-control" matInput type="text" name="hse_eu_name"
										   formControlName="hse_eu_name"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('hse_eu_name')"/>
									<mat-error *ngIf="isControlHasError('hse_eu_name','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.MAIL' | translate}}</mat-label>
									<input class="form-control" matInput type="text" name="hse_eu_mail"
										   formControlName="hse_eu_mail"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('hse_eu_mail')"/>
									<mat-error *ngIf="isControlHasError('hse_eu_mail','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.TEL' | translate}}</mat-label>
									<input class="form-control" matInput type="phone" name="hse_eu_tel"
										   formControlName="hse_eu_tel"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('hse_eu_tel')"/>
									<mat-error *ngIf="isControlHasError('cse_eu_tel','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
							<div class="row form-row col-6 align-items-center">
								<span class="col-12 font-weight-bold">
									{{'PDP.CSE' | translate}} :
								</span>
								<mat-form-field class="col-4">
									<mat-label>{{'PDP.NAME' | translate}}</mat-label>
									<input class="form-control" matInput type="text" name="cse_eu_name"
										   formControlName="cse_eu_name"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('cse_eu_name')"/>
									<mat-error *ngIf="isControlHasError('cse_eu_name','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<!--								<mat-form-field class="col-4 custom-margin-1">-->
								<!--									<mat-label>{{'PDP.JOB' | translate}}</mat-label>-->
								<!--									<input class="form-control" matInput type="text" name="cse_eu_job"-->
								<!--										   formControlName="cse_eu_job"-->
								<!--										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"-->
								<!--										   [required]="isFieldRequired('cse_eu_job')"/>-->
								<!--									<mat-error *ngIf="isControlHasError('cse_eu_job','required')">-->
								<!--										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>-->
								<!--									</mat-error>-->
								<!--								</mat-form-field>-->
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.TEL' | translate}}</mat-label>
									<input class="form-control" matInput type="phone" name="cse_eu_tel"
										   formControlName="cse_eu_tel"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('cse_eu_tel')"/>
									<mat-error *ngIf="isControlHasError('cse_eu_tel','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
							<div class="row form-row col-6 align-items-center">
								<span class="col-12 font-weight-bold">
									{{'PDP.OCCUPATIONAL_PHYSICIAN' | translate}} :
								</span>
								<mat-form-field class="col-4">
									<mat-label>{{'PDP.NAME' | translate}} </mat-label>
									<input class="form-control" matInput type="text" name="medecin_travail_eu_name"
										   formControlName="medecin_travail_eu_name"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('medecin_travail_eu_name')"/>
									<mat-error *ngIf="isControlHasError('medecin_travail_eu_name','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.TEL' | translate}}
									</mat-label>
									<input class="form-control" matInput type="phone" name="medecin_travail_eu_tel"
										   formControlName="medecin_travail_eu_tel"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('medecin_travail_eu_tel')"/>
									<mat-error *ngIf="isControlHasError('medecin_travail_eu_tel','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
							<div class="row form-row col-6 align-items-center">
								<span class="col-12 font-weight-bold">
									{{'PDP.COMPANY_REPRESENTATIVE' | translate}} :
								</span>
								<mat-form-field class="col-4">
									<mat-label>{{'PDP.NAME' | translate}}</mat-label>
									<input class="form-control" matInput type="text"
										   name="representant_entreprise_eu_name"
										   formControlName="representant_entreprise_eu_name"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('representant_entreprise_eu_name')"/>
									<mat-error *ngIf="isControlHasError('representant_entreprise_eu_name','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.MAIL' | translate}}
									</mat-label>
									<input class="form-control" matInput type="mail"
										   name="representant_entreprise_eu_mail"
										   formControlName="representant_entreprise_eu_mail"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('representant_entreprise_eu_mail')"/>
									<mat-error *ngIf="isControlHasError('representant_entreprise_eu_mail','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
									<mat-error *ngIf="isControlHasError('representant_entreprise_eu_mail','email')">
										<strong>{{ 'AUTH.VALIDATION.INVALID_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.TEL' | translate}}</mat-label>
									<input class="form-control" matInput type="phone"
										   name="representant_entreprise_eu_tel"
										   formControlName="representant_entreprise_eu_tel"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('representant_entreprise_eu_tel')"/>
									<mat-error *ngIf="isControlHasError('representant_entreprise_eu_tel','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-12">
									<mat-label>{{'PDP.RESCUERS_FIRST_AID_WORKER_AT_WORK' | translate}}</mat-label>
									<textarea class="form-control no_border" name="sauveteurs_secouriste_travail"
											  matInput
											  cdkTextareaAutosize
											  #autosize="cdkTextareaAutosize"
											  cdkAutosizeMinRows="2"
											  cdkAutosizeMaxRows="5"
											  formControlName="sauveteurs_secouriste_travail"
											  placeholder="{{'ACTION.ENTER_HERE' | translate}}"
											  [required]="isFieldRequired('sauveteurs_secouriste_travail')"></textarea>
									<mat-error *ngIf="isControlHasError('sauveteurs_secouriste_travail','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
						</div>

						<div class="tf-heading tf-heading--sm">
							1.2 {{'PDP.OUTSIDE_COMPANY' | translate}}
						</div>
						<div class="pl-5 mb-4 row">
							<div class="row form-row col-6 align-items-center">
								<span class="col-12 font-weight-bold">
									{{'PDP.OCCUPATIONAL_PHYSICIAN' | translate}} :
								</span>
								<mat-form-field class="col-4">
									<mat-label>{{'PDP.NAME' | translate}}</mat-label>
									<input class="form-control" matInput type="text" name="medecin_travail_ee_name"
										   formControlName="medecin_travail_ee_name"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('medecin_travail_ee_name')"/>
									<mat-error *ngIf="isControlHasError('medecin_travail_ee_name','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.TEL' | translate}}
									</mat-label>
									<input class="form-control" matInput type="phone" name="medecin_travail_ee_tel"
										   formControlName="medecin_travail_ee_tel"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('medecin_travail_ee_tel')"/>
									<mat-error *ngIf="isControlHasError('medecin_travail_ee_tel','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
							<div class="row form-row col-6 align-items-center">
								<span class="col-12 font-weight-bold">
									{{'PDP.COMPANY_REPRESENTATIVE' | translate}} :
								</span>
								<mat-form-field class="col-4">
									<mat-label>{{'PDP.NAME' | translate}}</mat-label>
									<input class="form-control" matInput type="text"
										   name="representant_entreprise_ee_name"
										   formControlName="representant_entreprise_ee_name"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('representant_entreprise_ee_name')"/>
									<mat-error *ngIf="isControlHasError('representant_entreprise_ee_name','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.MAIL' | translate}}
									</mat-label>
									<input class="form-control" matInput type="email"
										   name="representant_entreprise_ee_mail"
										   formControlName="representant_entreprise_ee_mail"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('representant_entreprise_ee_mail')"/>
									<mat-error *ngIf="isControlHasError('representant_entreprise_ee_mail','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
									<mat-error *ngIf="isControlHasError('representant_entreprise_eu_mail','email')">
										<strong>{{ 'AUTH.VALIDATION.INVALID_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-4 custom-margin-1">
									<mat-label>{{'PDP.TEL' | translate}}
									</mat-label>
									<input class="form-control" matInput type="phone"
										   name="representant_entreprise_ee_tel"
										   formControlName="representant_entreprise_ee_tel"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('representant_entreprise_ee_tel')"/>
									<mat-error *ngIf="isControlHasError('representant_entreprise_ee_tel','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
						</div>

					</div>
				</div>
			</div>

			<div class="tf-heading tf-heading--md">|
				2 {{'PDP.DETAILS_OF_THE_INTERVENTION' | translate}}</div>
			<div class="row">
				<div class="col-md-12">
					<div class="tf-card-form">
						<div class="row">
							<div class="pr-5 form-row row col-7 align-items-center"
								 style="border-right: 1px solid #e9ecf0;padding: 18px;">
								<mat-form-field class="col-xl-6">
									<mat-label>{{'PDP.INTERVENTION_NAME' | translate}}</mat-label>
									<input class="form-control" matInput type="text" name="label_intervention"
										   formControlName="label_intervention"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('label_intervention')"/>
									<mat-error *ngIf="isControlHasError('label_intervention','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class=" col-xl-6">
									<mat-label>{{'PDP.INTERVENTION_PLACE' | translate}}</mat-label>
									<input class="form-control" matInput type="text" name="lieu_intervention"
										   formControlName="lieu_intervention"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('lieu_intervention')"/>
									<mat-error *ngIf="isControlHasError('lieu_intervention','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<mat-form-field class="col-xl-6">
									<mat-label>{{'PDP.PDP_ESTABLISHED_ON' | translate}}</mat-label>
									<input matInput class="form-control" mask="d0-M0-0000"
										   [specialCharacters]="[ '-' ]"
										   [dropSpecialCharacters]="false" formControlName="pdp_intervention_at"
										   placeholder="DD-MM-YYYY" [required]="isFieldRequired('pdp_intervention_at')">
									<mat-error *ngIf="isControlHasError('pdp_intervention_at','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
								<div
									class="col-xl-6 mat-form-field ng-tns-c14-2 mat-primary mat-form-field-type-mat-input mat-form-field-appearance-legacy mat-form-field-can-float mat-form-field-should-float mat-form-field-has-label">
									<div class="mat-form-field-wrapper">
										<div class="mat-form-field-flex">
											<div class="mat-form-field-infix">
													<span class="mat-form-field-label-wrapper">
														<label
															class="mat-form-field-label">{{'PDP.DAYTIME_SITE_OPENING_HOURS' | translate}}</label>
													</span>
												<div class="horaire-box">
													<div>
														<input class="text-center form-control" type="time"
															   name="horaires_ouverture_site"
															   formControlName="horaires_ouverture_site"
															   [required]="isFieldRequired('horaires_ouverture_site')"
														/>
														<mat-error class="error-found"
																   *ngIf="isControlHasError('horaires_ouverture_site','required')">
															<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
														</mat-error>
													</div>
													<span>- </span>
													<div>
														<input class="text-center form-control" type="time"
															   name="horaires_fermeture_site"
															   formControlName="horaires_fermeture_site"
															   [required]="isFieldRequired('horaires_fermeture_site')"
														/>
														<mat-error class="error-found"
																   *ngIf="isControlHasError('horaires_fermeture_site','required')">
															<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
														</mat-error>
													</div>
												</div>
											</div>
										</div>
									</div>
									<mat-error class="error-found"
											   *ngIf="pdpForm.get('horaires_fermeture_site').value && !checkIfDateLastIsBigger()">
										<small><strong>{{ 'PDP.ENDTIME_MUST_BIGGER_THAN_START_TIME' | translate }}</strong></small>
									</mat-error>
								</div>
								<mat-form-field class="col-xl-12 ">
									<mat-label>{{'PDP.PREDICTABLE_AVERAGE_WORKFORCE' | translate}}</mat-label>
									<input class="form-control" matInput type="number" name="effectif_moyen"
										   formControlName="effectif_moyen"
										   placeholder="{{'ACTION.ENTER_HERE' | translate}}"
										   [required]="isFieldRequired('effectif_moyen')"/>
									<mat-error *ngIf="isControlHasError('effectif_moyen','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
							<div class="pl-5 form-row row col-5 align-items-center" style="padding: 18px;">
								<div class="row form-row col-xl-6 d-flex flex-column justify-content-center">
									<label class="font-weight-bold">{{'PDP.NIGHT_WORK' | translate}}</label>
									<mat-radio-group formControlName="is_night_shift">
										<mat-radio-button [value]="1">{{'PDP.YES' | translate}}</mat-radio-button>
										<mat-radio-button [value]="0">{{'PDP.NO' | translate}}</mat-radio-button>
									</mat-radio-group>
								</div>
								<div class="row form-row col-xl-6 d-flex flex-column justify-content-center">
									<label class="font-weight-bold">{{'PDP.MORE_THAN_400H' | translate}} ?</label>
									<mat-radio-group formControlName="duration_intervention_mp400h">
										<mat-radio-button [value]="1">{{'PDP.YES' | translate}}</mat-radio-button>
										<mat-radio-button [value]="0">{{'PDP.NO' | translate}}</mat-radio-button>
									</mat-radio-group>
								</div>
								<div class="row form-row col-xl-6 d-flex flex-column justify-content-center">
									<label class="font-weight-bold">{{'PDP.PENALTY' | translate}}</label>
									<mat-radio-group formControlName="is_astreinte">
										<mat-radio-button [value]="1">{{'PDP.YES' | translate}}</mat-radio-button>
										<mat-radio-button [value]="0">{{'PDP.NO' | translate}}</mat-radio-button>
									</mat-radio-group>
								</div>
								<div class="row form-row col-xl-6 d-flex flex-column justify-content-center">
									<label class="font-weight-bold">{{'PDP.TELEWORKING' | translate}}</label>
									<mat-radio-group formControlName="is_teletravail">
										<mat-radio-button [value]="1">{{'PDP.YES' | translate}}</mat-radio-button>
										<mat-radio-button [value]="0">{{'PDP.NO' | translate}}</mat-radio-button>
									</mat-radio-group>
								</div>
								<div class="row form-row col-xl-6 d-flex flex-column justify-content-center">
									<label
										class="font-weight-bold">{{'PDP.PRESENCE_ON_CUSTOMER_SITE' | translate}}</label>
									<mat-radio-group formControlName="is_presence_site_client"
													 (change)="makePresenceSiteClientRequired($event)">
										<mat-radio-button [value]="1">{{'PDP.YES' | translate}}</mat-radio-button>
										<mat-radio-button [value]="0">{{'PDP.NO' | translate}}</mat-radio-button>
									</mat-radio-group>
								</div>
								<mat-form-field class="row form-row col-xl-6 pdp-custom-select" appearance="standard">
									<mat-label>{{'PDP.HOW_OFTEN' | translate}} ?</mat-label>
									<mat-select placeholder="{{'PDP.SELECT_AN_ITEM' | translate}}"
												formControlName="presence_site_client_frequency_id"
												[required]="isChecked('is_presence_site_client')">
										<mat-option *ngFor="let frequence of frequences"
													[value]="frequence.id">{{frequence?.label}}</mat-option>
									</mat-select>
									<mat-error
										*ngIf="isControlHasError('presence_site_client_frequency_id','required')">
										<strong>{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}</strong>
									</mat-error>
								</mat-form-field>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="mb-4 col-12" *ngIf="partHided(2) && adding">
			<button mat-raised-button type="button" class="px-5 pull-right" color="info"
					(click)="showPart(2)">{{'ACTION.FOLLOWING' | translate}}</button>
		</div>
	</div>


	<!-- PDF ADD -->
	<div class="row"  [hidden]="adding && partHided(2)">
		<div class="col-12">
			<div class="tf-heading tf-heading--md">|
				3 {{'PDP.ADD_CLIEN_PDP' | translate}}</div>
				<div class="row form-row">
					<div class="col-12">
						<form [formGroup]="pdpForm" *ngIf="uploader">
							<h4>{{'REMONTEES.CARD.DOC.TITLE' | translate}}</h4>
							<div class="row">
								<div class="col-4">



									<div ng2FileDrop [uploader]="uploader"
									(onFileDrop)="onFileDrop($event)"
									class="drop-zone">
										<div class="mx-auto d-flex flex-column">
											<img class="mx-auto pdfImg " src="assets/media/illustrations/noun_PDF_1242090.svg" alt="">
											<span class="d-block">{{'UPLOAD.DROPZONE.PLACEHOLDER' | translate}} </span>
											<span class="d-block">{{'UPLOAD.MAX_SIZE' | translate}} : 4 Mo</span>
										</div>

									</div>
									<div class="upload-btn-wrapper justify-content-center d-flex">
										<button class="mt-2 ml-auto btn btn-success">{{'COMMON.SELECT_FILES.SHORTTITLE' | translate}}</button>
										<input formControlName="documentsToUpload" (onFileSelected)="onFileDrop($event)" class="mb-2" type="file"
											ng2FileSelect title="{{'COMMON.SELECT_FILES.TITLE' | translate}}" accept=".pdf" [uploader]="uploader" multiple/>
									</div>
								</div>
								<div class="col-8">
									<div class="row">
										<div class="col-12" *ngIf="!adding">

											<h6>{{'REMONTEES.CARD.DOC.LABEL' | translate}} : </h6>

											<ul >
												<li class="mb-3" *ngFor="let item of this._pdp.documents" >
													{{item.libelle}}
														<mat-icon color="warn" class="pull-right pointer" (click)="deleteDoc(item)" matTooltip="{{'REMONTEES.CARD.DOC.ACTION.REMOVE_DOC' | translate}}">delete</mat-icon>
												</li>
											</ul>
										</div>
										<div class="col-12">
											<h6>{{'REMONTEES.CARD.DOC.FILE_AWAIT_UPLOAD' | translate}} : </h6>
											<ul>
												<li class="mb-3" *ngFor="let item of uploader.queue">
													{{seeItem(item)}}
														<mat-icon color="accent" class="pull-right pointer" (click)="item.remove()" matTooltip="{{'REMONTEES.CARD.DOC.ACTION.REMOVE_DOC' | translate}}">delete</mat-icon>
												</li>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
		</div>
		<div class="mb-4 col-12" *ngIf="partHided(3) && adding">
			<button mat-raised-button type="button" class="px-5 pull-right" color="info"
					(click)="showPart(3)">{{'ACTION.FOLLOWING' | translate}}</button>
		</div>
	</div>
	<div class="row" [hidden]="adding && partHided(3)">
		<div class="col-12">
			<div class="tf-heading tf-heading--md">|
				4 {{'PDP.INTERVENANTS' | translate}}</div>
			<div class="mt-3">
				<div class="row">
					<div class="col-md-12">
						<div class="tf-card-form">
							<table class="mt-3 inter-array" mat-table [dataSource]="intervenants"
								   formArrayName="intervenants"
								   *ngIf="intervenants?.getValue()?.length > 0">
								<ng-container matColumnDef="last">
									<th mat-header-cell style="width: 18%" *matHeaderCellDef>
										<b>{{'PDP.LAST_NAME' | translate}} </b></th>
									<td mat-cell style="width: 18%" *matCellDef="let element; let index = index"
										[formGroupName]="index">
										<mat-form-field [style.fontSize.px]=13>
											<mat-label>{{'PDP.LAST_NAME' | translate}}</mat-label>
											<input class="form-control" matInput type="text"
												   formControlName="last_name"
												   placeholder="{{'ACTION.ENTER_HERE' | translate}}"/>
											<mat-error
												*ngIf="isControlHasError('last_name', 'required', 'intervenants', index)"
												class="w-100">
												{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
											</mat-error>
										</mat-form-field>
									</td>
								</ng-container>
								<ng-container matColumnDef="first">
									<th mat-header-cell style="width: 18%" *matHeaderCellDef>
										<b>{{'PDP.FIRST_NAME' | translate}} </b></th>
									<td mat-cell style="width: 18%" *matCellDef="let element; let index = index"
										[formGroupName]="index">
										<mat-form-field [style.fontSize.px]=13>
											<mat-label>{{'PDP.FIRST_NAME' | translate}}</mat-label>
											<input class="form-control" matInput type="text"
												   formControlName="first_name"
												   placeholder="{{'ACTION.ENTER_HERE' | translate}}"/>
											<mat-error
												*ngIf="isControlHasError('first_name', 'required', 'intervenants', index)"
												class="w-100">
												{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
											</mat-error>
										</mat-form-field>
									</td>
								</ng-container>
								<ng-container matColumnDef="contact">
									<th mat-header-cell style="width: 18%" *matHeaderCellDef>
										<b>{{'PDP.CONTACT' | translate}} </b></th>
									<td mat-cell style="width: 18%" *matCellDef="let element; let index = index"
										[formGroupName]="index">
										<mat-form-field [style.fontSize.px]=13>
											<mat-label>{{'PDP.PHONE' | translate}}</mat-label>
											<input class="form-control" matInput type="phone"
												   formControlName="contact"
												   placeholder="{{'ACTION.ENTER_HERE' | translate}}"/>
											<mat-error
												*ngIf="isControlHasError('contact', 'required', 'intervenants', index)"
												class="w-100">
												{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
											</mat-error>
										</mat-form-field>
									</td>
								</ng-container>
								<ng-container matColumnDef="formations">
									<th mat-header-cell style="width: 18%" *matHeaderCellDef>
										<b>{{'PDP.TRAINING_AUTHORIZATIONS' | translate}} </b></th>
									<td mat-cell style="width: 18%" *matCellDef="let element; let index = index"
										[formGroupName]="index">
										<mat-form-field [style.fontSize.px]=13>
											<mat-label>{{'PDP.SPECIFY' | translate}}</mat-label>
											<input class="form-control" matInput type="text"
												   formControlName="formations"
												   placeholder="{{'ACTION.ENTER_HERE' | translate}}"/>
										</mat-form-field>
									</td>
								</ng-container>
								<ng-container matColumnDef="suivis_médical">
									<th mat-header-cell style="width: 25%"
										*matHeaderCellDef>
										<b>{{'PDP.REINFORCED_MEDICAL_FOLLOW_UP' | translate}}</b></th>
									<td mat-cell style="width: 25%" *matCellDef="let element; let index = index"
										[formGroupName]="index" [width]="'70%'">
										<div class="d-flex flex-column">
											<mat-radio-group formControlName="is_suivi_medical" class="mt-3"
													(change)="togglePartInspectionAt($event.value, index, 'intervenants', 'motif_id')">
												<mat-radio-button
													[value]="1">{{'PDP.YES' | translate}}</mat-radio-button>
												<mat-radio-button
													[value]="0">{{'PDP.NO' | translate}}</mat-radio-button>
											</mat-radio-group>
											<mat-select class="mt-3 mb-3" [hidden]="element.get('is_suivi_medical').value != 1"
														[panelClass]="'auto-width-select'"
														placeholder="{{'PDP.SELECT_AN_ITEM' | translate}}"
														formControlName="motif_id"
											>
												<mat-option *ngFor="let item of suivisMedicalIntervenants"
															[value]="item.id">{{item?.label}}</mat-option>
											</mat-select>
											<mat-error
												*ngIf="isControlHasError('motif_id', 'required', 'intervenants', index)"
												class="mb-2 w-100 small">
												{{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
											</mat-error>
										</div>
									</td>
								</ng-container>
								<ng-container matColumnDef="actions">
									<mat-header-cell *matHeaderCellDef></mat-header-cell>
									<td mat-cell *matCellDef="let row; let element; let index = index">
										<button mat-icon-button color="warn"
												(click)="deleteElemntInArray(index, 'intervenants', intervenants)"
												matTooltip="{{'ACTION.DELETE' | translate}}">
											<mat-icon>delete</mat-icon>
										</button>
									</td>
								</ng-container>
								<tr mat-header-row *matHeaderRowDef="displayedColumnsIntervenants"></tr>
								<tr mat-row *matRowDef="let row; let i = index; columns: displayedColumnsIntervenants;"
									[formGroupName]="i"></tr>
							</table>
							<button mat-raised-button type="button" class="pull-left btn-small" color="info"
									[ngClass]="{'mt-4' : intervenants?.getValue()?.length > 0}"
									style="width: 180px"
									[disabled]="intervenants?.getValue().length > 8"
									(click)="addIntervenant()">{{'PDP.ADD_ROW' | translate}}</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--		<div class="mb-4 col-12" *ngIf="partHided(7) && origin=='add'">-->
		<!--			<button mat-raised-button type="button" class="px-5 pull-right" color="info"-->
		<!--					(click)="showPart(7)">{{'ACTION.FOLLOWING' | translate}}</button>-->
		<!--		</div>-->
	</div>
</ng-container>

<ng-container *ngIf="formStatus">
	<div *ngIf="formStatus.canShowErrors()" class="alert alert-danger alert-dismissible fade show" role="alert">
		<div><strong>{{'COMMON.NOTIF.ERROR.TITLE' | translate}}</strong></div>
		<div>
			<ul *ngFor="let errors of formStatus.errors  |  keyvalue">
				<li *ngFor="let error of errors.value">
					{{error}}
				</li>
			</ul>
		</div>
	</div>
	<div *ngIf="formStatus.canShowSuccess()" class="alert alert-success" role="alert">
		<div><strong>{{'COMMON.NOTIF.SUCCESS.TITLE' | translate}}</strong></div>
		<div *ngFor="let message of formStatus.messages">{{ message }}</div>
	</div>
</ng-container>

<notifier-container></notifier-container>
