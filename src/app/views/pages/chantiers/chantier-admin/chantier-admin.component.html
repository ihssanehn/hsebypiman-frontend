<!--begin::Portlet-->
<div class="tf-portlet tf-portlet--bordered">
	<div class="tf-portlet__body">

    <nz-divider nzText="Habilitations" nzOrientation="left"></nz-divider>

    <div class="row">
      <div *ngFor="let item of list" class="col-lg-6">
        <!--begin::Portlet-->
        <div class="tf-portlet tf-portlet--bordered item" data-ktportlet="true" id="kt_portlet_tools_3">
          <div class="tf-portlet__head">
            <div class="tf-portlet__head-label">
              <h3 class="tf-portlet__head-title">
                {{ item?.libelle }}
                <i nz-icon nzType="edit" nzTheme="outline" class="pointer"></i>
              </h3>
            </div>
            <div class="tf-portlet__head-toolbar">
              <div class="tf-portlet__head-group">
                <a data-ktportlet-tool="toggle" class="btn btn-sm btn-icon btn-clean btn-icon-md"><i class="la la-angle-down"></i></a>
                <a (click)="add(item.id)" data-ktportlet-tool="add" class="btn btn-sm btn-icon btn-clean btn-icon-md">
                  <i class="la la-plus"></i>
                </a>
                <a data-ktportlet-tool="remove" class="btn btn-sm btn-icon btn-clean btn-icon-md"><i class="la la-trash"></i></a>
              </div>
            </div>
          </div>
          <!--begin::Form-->
          <form class="tf-form tf-form--label-right">
            <div class="tf-portlet__body">

              <!-- [nzPageSize]="50" [nzScroll]="{ y: '227px' }" -->

              <nz-table nzSize="small" 
                        [nzData]="item?.habilitations" 
                        [nzFrontPagination]="false" 
                        [nzShowPagination]="false"
                        [nzScroll]="{ y: '178px' }" >
                <thead>
                  <tr>
                    <th nzWidth="70%">Libell√©</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of item?.habilitations">
                    <ng-container *ngIf="!data.edit; else editTemplate">
                      <td>{{ data?.libelle }}</td>
                      <td>
                        <a (click)="startEdit(data)" class="text-primary">Modifier</a>
                        <nz-divider nzType="vertical"></nz-divider>
                        <a nz-popconfirm nzTitle="Sure to delete?" class="text-danger" (nzOnConfirm)="cancelEdit(data)">Supprimer</a>
                      </td>
                    </ng-container>
                    <ng-template #editTemplate>
                      <td><input type="text" nz-input [(ngModel)]="data.libelle" name="name" /></td>
                      <td>
                        <a (click)="saveEdit(data)" class="save" class="text-primary">Enregistrer</a>
                        <nz-divider nzType="vertical"></nz-divider>
                        <a nz-popconfirm (nzOnConfirm)="cancelEdit(data)">Annuler</a>
                      </td>
                    </ng-template>
                  </tr>
                </tbody>
              </nz-table>


            </div>
          </form>
          <!--end::Form-->
        </div>
        <!--end::Portlet-->
      </div>
    </div>
	</div>
</div>

<!--end::Portlet-->
